{% extends 'base.html' %}
{% from 'macros.html' import header_with_add %}
{% block content %}
{% set form_title = 'Redaguoti krovinƒØ' if data.id else 'Naujas krovinys' %}
{{ header_with_add(form_title) }}
<form method="post" action="/kroviniai/save">
    <input type="hidden" name="cid" value="{{ data.id or 0 }}">
    <input type="hidden" name="imone" value="{{ imone }}">
    <div class="form-grid">
        <label>Klientas
            <select name="klientas">
                <option value=""></option>
                {% for k in klientai %}
                <option value="{{ k }}" {% if data.klientas == k %}selected{% endif %}>{{ k }}</option>
                {% endfor %}
            </select>
        </label>
        <label>Vilkikas
            <select name="vilkikas">
                <option value=""></option>
                {% for v in vilkikai %}
                <option value="{{ v }}" {% if data.vilkikas == v %}selected{% endif %}>{{ v }}</option>
                {% endfor %}
            </select>
        </label>
        <label>Priekaba
            <input type="text" name="priekaba" value="{{ data.priekaba or '' }}">
        </label>
        <label>U≈æsakymo nr.
            <input type="text" name="uzsakymo_numeris" value="{{ data.uzsakymo_numeris or '' }}">
        </label>
        <label>SƒÖskaitos b≈´sena
            <select name="saskaitos_busena">
                <option value="Neapmokƒóta" {% if data.saskaitos_busena == 'Neapmokƒóta' %}selected{% endif %}>Neapmokƒóta</option>
                <option value="Apmokƒóta" {% if data.saskaitos_busena == 'Apmokƒóta' %}selected{% endif %}>Apmokƒóta</option>
            </select>
        </label>
        <label>Pakrovimo data
            <input type="date" name="pakrovimo_data" value="{{ data.pakrovimo_data or '' }}">
        </label>
        <label>I≈°krovimo data
            <input type="date" name="iskrovimo_data" value="{{ data.iskrovimo_data or '' }}">
        </label>
        <label>Pakrovimo ≈°alis
            <select name="pakrovimo_salis">
                {% for n,c in salys %}
                <option value="{{ c }}" {% if data.pakrovimo_salis == c %}selected{% endif %}>{{ n }}</option>
                {% endfor %}
            </select>
        </label>
        <label>I≈°krovimo ≈°alis
            <select name="iskrovimo_salis">
                {% for n,c in salys %}
                <option value="{{ c }}" {% if data.iskrovimo_salis == c %}selected{% endif %}>{{ n }}</option>
                {% endfor %}
            </select>
        </label>
        <label>Pakrovimo regionas
            <input type="text" name="pakrovimo_regionas" value="{{ data.pakrovimo_regionas or '' }}">
        </label>
        <label>I≈°krovimo regionas
            <input type="text" name="iskrovimo_regionas" value="{{ data.iskrovimo_regionas or '' }}">
        </label>
        <label>Pakrovimo miestas
            <input type="text" name="pakrovimo_miestas" value="{{ data.pakrovimo_miestas or '' }}">
        </label>
        <label>I≈°krovimo miestas
            <input type="text" name="iskrovimo_miestas" value="{{ data.iskrovimo_miestas or '' }}">
        </label>
        <label>Pakrovimo adresas
            <input type="text" name="pakrovimo_adresas" value="{{ data.pakrovimo_adresas or '' }}">
        </label>
        <label>I≈°krovimo adresas
            <input type="text" name="iskrovimo_adresas" value="{{ data.iskrovimo_adresas or '' }}">
        </label>
        <label>Pakrovimo laikas nuo
            <input type="time" name="pakrovimo_laikas_nuo" value="{{ data.pakrovimo_laikas_nuo or '' }}">
        </label>
        <label>Pakrovimo laikas iki
            <input type="time" name="pakrovimo_laikas_iki" value="{{ data.pakrovimo_laikas_iki or '' }}">
        </label>
        <label>I≈°krovimo laikas nuo
            <input type="time" name="iskrovimo_laikas_nuo" value="{{ data.iskrovimo_laikas_nuo or '' }}">
        </label>
        <label>I≈°krovimo laikas iki
            <input type="time" name="iskrovimo_laikas_iki" value="{{ data.iskrovimo_laikas_iki or '' }}">
        </label>
        <label>Kilometrai
            <input type="number" name="kilometrai" value="{{ data.kilometrai or 0 }}">
        </label>
        <label>Frachtas (‚Ç¨)
            <input type="number" step="any" name="frachtas" value="{{ data.frachtas or 0 }}">
        </label>
        <label>Svoris (kg)
            <input type="number" name="svoris" value="{{ data.svoris or 0 }}">
        </label>
        <label>Padƒókl≈≥ sk.
            <input type="number" name="paleciu_skaicius" value="{{ data.paleciu_skaicius or 0 }}">
        </label>
        <label>Ekspedicijos vadybininkas
            <select name="ekspedicijos_vadybininkas">
                <option value=""></option>
                {% for e in eksped_vadybininkai %}
                <option value="{{ e }}" {% if data.ekspedicijos_vadybininkas == e %}selected{% endif %}>{{ e }}</option>
                {% endfor %}
            </select>
        </label>
    </div>
    <button type="submit">üíæ I≈°saugoti</button>
    <a href="/kroviniai">‚Üê GrƒØ≈æti ƒØ sƒÖra≈°ƒÖ</a>
</form>
<style>
.form-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}
.form-grid label {
    display: flex;
    flex-direction: column;
}
</style>
{% endblock %}
